<h2>Android app development without Android Studio</h2>
<time>2022-09-15</time>
<p>
This artice is written for those who cannot or do not want to use <span class="nowrap">Android Studio</span>.
</p>
<h3>1. Install dependecies</h3>
<ul>
    <li>jdk21-openjdk</li>
    <li>gradle 8.10.1-1</li>
    <li>android-build-tools r34.0.0-2</li>
    <li>android-cmdline-tools 13.0-3</li>
    <li>android-platform-tools 35.0.1-1</li>
    <li>android-platforms 35_r01-1</li>
</ul>
<p>Arch Linux example</p>
<pre><code>sudo pacman -S jdk21-opendjk gradle
mkdir -p ~/.aur
cd ~/.aur
for i in sdk-build-tools sdk-platform-tools sdk-cmdline-tools-latest platform; do
git clone https://aur.archlinux.org/android-$i.git
cd android-$i
makepkg -sric
done
</pre></code>
<h3>2. Initialize project</h3>
<pre><code>mkdir alpha
cd alpha
gradle init

Select type of build to generate:
  1: Application
  2: Library
  3: Gradle plugin
  4: Basic (build structure only)
Enter selection (default: Application) [1..4]

Select implementation language:
  1: Java
  2: Kotlin
  3: Groovy
  4: Scala
  5: C++
  6: Swift
Enter selection (default: Java) [1..6] 2

Enter target Java version (min: 7, default: 21):

Project name (default: alpha):

Select application structure:
  1: Single application project
  2: Application and library project
Enter selection (default: Single application project) [1..2]

Select build script DSL:
  1: Kotlin
  2: Groovy
Enter selection (default: Kotlin) [1..2]

Select test framework:
  1: kotlin.test
  2: JUnit Jupiter
Enter selection (default: kotlin.test) [1..2]

Generate build using new APIs and behavior (some features may change in the next minor release)? (default: no) [yes, no]
</code></pre>
<h3>3. Configure build</h3>
<p>settings.gradle.kts</p>
<pre><code><span>pluginManagement {</span>
<span>    repositories {</span>
<span>        gradlePluginPortal()</span>
<span>        google()</span>
<span>        mavenCentral()</span>
<span>    }</span>
<span>}</span>
<span>dependencyResolutionManagement {</span>
<span>    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)</span>
<span>    repositories {</span>
<span>        google()</span>
<span>        mavenCentral()</span>
<span>    }</span>
<span>}</span>
<span>rootProject.name = "alpha"</span>
<span>include(":app")</span></code></pre>

<p>build.gradle.kts</p>
<pre><code><span>plugins {</span>
<span>    id("com.android.application") version "8.6.0" apply false</span>
<span>    id("com.android.library") version "8.6.0" apply false</span>
<span>    id("org.jetbrains.kotlin.android") version "2.0.20" apply false</span>
<span>}</span>
</code></pre>

<p>app/build.gradle.kts</p>
<pre><code><span>plugins {</span>
<span>    id("com.android.application")</span>
<span>    id("org.jetbrains.kotlin.android")</span>
<span>}</span>
<span></span>
<span>kotlin {</span>
<span>    jvmToolchain(21)</span>
<span>}</span>
<span></span>
<span>android {</span>
<span>    namespace = "com.d4yr41n.alphda"</span>
<span>    compileSdk = 35</span>
<span></span>
<span>    defaultConfig {</span>
<span>        applicationId = "com.d4yr41n.alpha"</span>
<span>        minSdk = 21</span>
<span>        targetSdk = 35</span>
<span>        versionCode = 1</span>
<span>        versionName = "1.0"</span>
<span>    }</span>
<span>}</span></code></pre>

<h3>4. Write source code</h3>
<p>app/src/main/kotlin/MainActivity.kt</p>

<pre><code><span>package com.d4yr41n.alpha;</span>
<span></span>
<span>import android.app.Activity;</span>
<span>import android.os.Bundle;</span>
<span>import android.widget.TextView;</span>
<span></span>
<span>class MainActivity : Activity() {</span>
<span>    override fun onCreate(savedInstanceState: Bundle?) {</span>
<span>        super.onCreate(savedInstanceState);</span>
<span>        val label = TextView(this);</span>
<span>        label.text = "It's alive!";</span>
<span>        setContentView(label);</span>
<span>    }</span>
<span>}</span></code></pre>

<p>app/src/main/AndroidManifest.xml</p>
<pre><code><span>&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span>&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"</span>
<span>          package="com.d4yr41n.alpha"&gt;</span>
<span>    &lt;application android:label="Alpha"&gt;</span>
<span>        &lt;activity android:name="MainActivity"&gt;</span>
<span>            &lt;intent-filter&gt;</span>
<span>                &lt;action android:name="android.intent.action.MAIN" /&gt;</span>
<span>                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;</span>
<span>            &lt;/intent-filter&gt;</span>
<span>        &lt;/activity&gt;</span>
<span>    &lt;/application&gt;</span>
<span>&lt;/manifest&gt;</span>
</code></pre>
<h3>5. Connect your device via <a href="https://developer.android.com/tools/adb">adb</a> and install the app.</h3>
<code><pre>
adb connect 192.168.0.100:12345
./gradlew installDebug
</code></pre>
